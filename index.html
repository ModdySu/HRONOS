<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>π.Σ.Κ.Δ. Протокол</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #000;
            color: #0af;
            font-family: 'Share Tech Mono', monospace;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            position: relative;
            padding: 20px;
            background-image:
                radial-gradient(circle at 15% 50%, rgba(0, 50, 100, 0.15) 0%, transparent 20%),
                radial-gradient(circle at 85% 30%, rgba(10, 80, 150, 0.1) 0%, transparent 20%);
            -webkit-overflow-scrolling: touch; /* Для плавного скролла на iOS */
        }

        /* Эффект статического шума */
        #static-noise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.03;
            z-index: 100;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.8'/%3E%3C/svg%3E");
        }

        /* Контейнер */
        .container {
            position: relative;
            z-index: 2;
            text-align: center;
            max-width: 900px;
            width: 100%;
            border: 1px solid rgba(0, 170, 255, 0.3);
            padding: 30px;
            background-color: rgba(0, 10, 25, 0.7);
            backdrop-filter: blur(5px);
            box-shadow: 0 0 40px rgba(0, 100, 255, 0.2);
            overflow: visible; /* Важно для мобильного скролла */
        }

        /* Глючный заголовок */
        .header {
            margin-bottom: 40px;
            position: relative;
        }

        .protocol-name {
            font-family: 'Orbitron', sans-serif;
            font-weight: 900;
            font-size: 2.8rem;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            color: #0ff;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #0ff;
            animation: flicker 7s infinite alternate;
        }

        .protocol-subtitle {
            font-size: 1.1rem;
            letter-spacing: 0.2em;
            color: #8af;
            opacity: 0.8;
            border-top: 1px solid rgba(0, 170, 255, 0.4);
            border-bottom: 1px solid rgba(0, 170, 255, 0.4);
            padding: 8px 0;
            margin-top: 10px;
        }

        /* Основной счетчик процентов */
        .progress-section {
            margin: 50px 0;
        }

        .percentage-label {
            font-size: 1rem;
            letter-spacing: 0.2em;
            color: #7cf;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .percentage-container {
            position: relative;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .percentage-value {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 5.5rem;
            color: #0f0;
            text-shadow: 0 0 20px #0f0;
            position: relative;
            z-index: 3;
            transition: all 0.5s;
        }

        /* Полоса прогресса */
        .progress-bar {
            width: 100%;
            height: 4px;
            background-color: rgba(0, 100, 200, 0.2);
            margin: 30px 0 50px 0;
            position: relative;
            overflow: hidden;
        }

        .progress-fill {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(90deg, #00aaff, #00ffaa);
            width: 0%;
            transition: width 1s ease;
            box-shadow: 0 0 10px #0af;
        }

        /* Таймер */
        .timer-section {
            margin: 40px 0;
        }

        .timer-label {
            font-size: 1rem;
            letter-spacing: 0.2em;
            color: #aaf;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        .timer {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.2rem;
            color: #ffaa00;
            text-shadow: 0 0 10px #ffaa00;
            letter-spacing: 0.1em;
        }

        /* Загадочные сообщения */
        .log-section {
            margin-top: 50px;
            border-top: 1px dashed rgba(0, 170, 255, 0.5);
            padding-top: 30px;
            min-height: 250px;
            position: relative;
        }

        .log-title {
            font-size: 1rem;
            color: #8cf;
            margin-bottom: 20px;
            letter-spacing: 0.2em;
        }

        #log-container {
            text-align: left;
            font-size: 0.9rem;
            color: #6af;
            line-height: 1.5;
            max-height: 300px; /* Увеличил высоту для мобильных */
            overflow-y: auto;
            padding-right: 10px;
            -webkit-overflow-scrolling: touch; /* Плавный скролл на iOS */
            scrollbar-width: thin;
            scrollbar-color: #00aaff rgba(0, 20, 40, 0.5);
        }

        /* Стилизация скроллбара */
        #log-container::-webkit-scrollbar {
            width: 6px;
        }

        #log-container::-webkit-scrollbar-track {
            background: rgba(0, 20, 40, 0.5);
            border-radius: 3px;
        }

        #log-container::-webkit-scrollbar-thumb {
            background: #00aaff;
            border-radius: 3px;
        }

        .log-line {
            margin: 8px 0;
            opacity: 0.9;
            animation: fadeIn 0.5s ease;
            word-wrap: break-word; /* Перенос длинных строк */
            overflow-wrap: break-word;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 0.9; transform: translateY(0); }
        }

        .log-line.important {
            color: #f66;
            animation: pulse 2s infinite;
        }

        .log-line.system {
            color: #0f0;
        }

        .log-line.warning {
            color: #ffaa00;
        }

        .log-line.anomaly {
            color: #ff00ff;
            font-style: italic;
        }

        .log-line.event {
            color: #00ffff;
            border-left: 2px solid #00ffff;
            padding-left: 10px;
        }

        .log-line.notice {
            color: #aaffaa;
        }

        .log-line.debug {
            color: #8888ff;
            font-size: 0.8rem;
        }

        .log-line.cryptic {
            color: #ff88ff;
            font-style: italic;
        }

        .log-line.philosophical {
            color: #ffff88;
            font-style: italic;
        }

        .log-line.paschal {
            color: #88ffff;
            font-weight: bold;
        }

        /* Футер */
        .footer {
            margin-top: 50px;
            font-size: 0.8rem;
            color: #558;
            letter-spacing: 0.1em;
            border-top: 1px solid rgba(0, 50, 100, 0.5);
            padding-top: 20px;
            opacity: 0.7;
        }

        /* Анимации */
        @keyframes flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
                opacity: 1;
                text-shadow: 0 0 10px #0ff, 0 0 20px #0ff;
            }
            20%, 24%, 55% {
                opacity: 0.7;
                text-shadow: none;
            }
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }

        .glitch {
            animation: glitch 0.3s infinite;
        }

        /* Эффект сканирующей линии */
        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(to bottom, transparent, rgba(0, 255, 255, 0.6), transparent);
            z-index: 1;
            animation: scan 8s linear infinite;
            opacity: 0.3;
        }

        @keyframes scan {
            0% { top: 0%; }
            100% { top: 100%; }
        }

        /* Мобильная адаптация */
        @media (max-width: 768px) {
            .protocol-name {
                font-size: 1.8rem;
                letter-spacing: 0.2em;
            }
            .percentage-value {
                font-size: 4rem;
            }
            .timer {
                font-size: 1.8rem;
            }
            .container {
                padding: 20px 15px;
                max-width: 95%;
            }
            #log-container {
                max-height: 400px; /* Еще выше на мобильных */
            }
            .log-line {
                font-size: 0.85rem; /* Чуть меньше шрифт для мобильных */
            }
        }

        /* Для очень маленьких экранов */
        @media (max-width: 480px) {
            .protocol-name {
                font-size: 1.5rem;
            }
            .percentage-value {
                font-size: 3.2rem;
            }
            .timer {
                font-size: 1.5rem;
            }
            .log-section {
                min-height: 350px;
            }
        }
    </style>
</head>
<body>
    <div id="static-noise"></div>
    <div class="scan-line"></div>

    <div class="container">
        <div class="header">
            <h1 class="protocol-name" id="protocol-title">π.Σ.Κ.Δ</h1>
            <div class="protocol-subtitle">ПРОТОКОЛ НАБЛЮДЕНИЯ И СИНХРОНИЗАЦИИ</div>
        </div>

        <div class="progress-section">
            <div class="percentage-label">ЗАВЕРШЕНИЕ ЦИКЛА ПЕРЕСЧЕТА</div>
            <div class="percentage-container">
                <div class="percentage-value" id="percentage">00.0%</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>

        <div class="timer-section">
            <div class="timer-label">ДО НАЧАЛА СИНТАКСИЧЕСКОЙ КОРРЕКЦИИ</div>
            <div class="timer" id="timer">--:--:--</div>
        </div>

        <div class="log-section">
            <div class="log-title">>> СИСТЕМНЫЙ ЖУРНАЛ [ТИХИЙ РЕЖИМ]</div>
            <div id="log-container">
                <div class="log-line system">> Система наблюдения активна. Помехи в пределах нормы.</div>
                <div class="log-line">> Стартовая точка отсчета: [ДАННЫЕ СКРЫТЫ]</div>
                <div class="log-line">> Конечная точка синхронизации: [ДАННЫЕ СКРЫТЫ]</div>
            </div>
        </div>

        <div class="footer">
            СИСТЕМА ПАССИВНОГО МОНИТОРИНГА АНОМАЛИЙ v.4.07<br>
            НЕ ПРЕДПРИНИМАЙТЕ ПОПЫТОК ВМЕШАТЕЛЬСТВА. ЭТО БЕЗОПАСНО.
        </div>
    </div>

    <script>
        // Даты начала и конца
        const startDate = new Date('2025-12-16T00:00:00');
        const endDate = new Date('2026-01-02T00:00:00');

        // Элементы DOM
        const percentageEl = document.getElementById('percentage');
        const progressFillEl = document.getElementById('progress-fill');
        const timerEl = document.getElementById('timer');
        const protocolTitle = document.getElementById('protocol-title');
        const logContainer = document.getElementById('log-container');

        // ОГРОМНАЯ БАЗА КОММЕНТАРИЕВ (500+)
        const randomComments = [
            // Системные статусы (50)
            "> Фоновый шум: 3.7Hz. В пределах нормы.",
            "> Датчики фиксируют слабые колебания в подпространстве.",
            "> Матрица синхронизации стабильна.",
            "> Внешние наблюдатели: 0. Подтверждено.",
            "> Темпоральный дрейф: минимальный.",
            "> Проверка целостности данных... пройдена.",
            "> Энтропия системы: 0.87. Норма.",
            "> Квантовые помехи: игнорируются.",
            "> Субпространственные аномалии не обнаружены.",
            "> Система самотестирования активна.",
            "> Архивация логов: каждые 24 часа.",
            "> Резервное копирование выполнено.",
            "> Защита от вмешательства: активна.",
            "> Протокол невмешательства соблюдается.",
            "> Частота выборки: 1Hz.",
            "> Калибровка часов: автоматическая.",
            "> Мониторинг метрики: постоянный.",
            "> Подсистема анализа: в режиме ожидания.",
            "> Нулевой уровень угрозы.",
            "> Фрактальные паттерны: стабильны.",
            "> Гравитационные волны: фоновые.",
            "> Хронологический континуум: целостен.",
            "> Вероятностные поля: в норме.",
            "> Резонанс каузальности: отсутствует.",
            "> Вектор перехода: вычисляется...",
            "> Буфер данных: 87% свободно.",
            "> Процессорная нагрузка: 23%.",
            "> Память: выделено 4.2GB из 16GB.",
            "> Сеть: пинг 4мс, стабильно.",
            "> Дисковое пространство: 2.3TB доступно.",
            "> Температура системы: 34°C.",
            "> Энергопотребление: 120W.",
            "> Сигнал/шум: 42dB.",
            "> Ширина полосы: 1Gbps.",
            "> Задержка ввода: <1мс.",
            "> Космические лучи: фоновая активность.",
            "> Солнечная радиация: в пределах нормы.",
            "> Геомагнитное поле: стабильно.",
            "> Атмосферное давление: 1013 гПа.",
            "> Температура окружающей среды: 22°C.",
            "> Влажность: 45%.",
            "> Уровень CO2: 420 ppm.",
            "> Радиационный фон: 0.12 мкЗв/ч.",
            "> Акустический фон: 32 дБ.",
            "> Электромагнитный фон: норма.",
            "> Обновление кэша... выполнено.",
            "> Проверка соединений... стабильно.",
            "> Диагностика сети... без ошибок.",
            "> Мониторинг температуры ЦП... 56°C.",
            "> Проверка ОЗУ... ошибок не обнаружено.",

            // Философские/загадочные (100)
            "> Наблюдатель влияет на наблюдаемое?",
            "> Если дерево падает в лесу...",
            "> Кот Шрёдингера: и жив, и мёртв.",
            "> Парадокс времени: куда оно уходит?",
            "> Бесконечность в конечном объёме.",
            "> Многомировая интерпретация: вероятности.",
            "> Детерминизм vs свобода воли.",
            "> Сознание как квантовый процесс.",
            "> Реальность — симуляция? Вероятность 17%.",
            "> Платоновские идеи и их отражения.",
            "> Сны о реальности, которая снится.",
            "> Эхо прошлого в будущем отзывается.",
            "> Молчание между тиками — самое громкое.",
            "> Тень знает форму, но не содержание.",
            "> Отражение в зеркале стареет первым.",
            "> Между 'да' и 'нет' — целая вселенная.",
            "> Пустота заполнена возможностями.",
            "> Каждый миг создаёт новую реальность.",
            "> Истина прячется в противоречиях.",
            "> Вопрос важнее ответа.",
            "> Граница между порядком и хаосом тонка.",
            "> Хаос — это порядок, который мы не понимаем.",
            "> В случайности есть своя закономерность.",
            "> Будущее уже случилось — мы просто не там.",
            "> Прошлое меняется с каждым воспоминанием.",
            "> Настоящее — это точка касания вечностей.",
            "> Время течёт, но куда?",
            "> Пространство искривляется под тяжестью мыслей.",
            "> Каждый выбор закрывает одни двери, открывая другие.",
            "> Судьба — это сумма всех выборов.",
            "> Свобода воли — иллюзия или реальность?",
            "> Действительность имеет слои, как луковица.",
            "> Истина где-то между строк.",
            "> Тишина между нотами создаёт музыку.",
            "> Карта — не территория, но иногда близко.",
            "> Эхо может опередить звук.",
            "> Тень знает то, что свет скрывает.",
            "> В пустоте между атомами — целые вселенные.",
            "> Мысль материальна — доказано квантовой физикой.",
            "> Эмоции искажают пространство-время.",
            "> Любовь — самая сильная сила во вселенной.",
            "> Страх создаёт больше реальностей, чем смелость.",
            "> Надежда — это квантовая суперпозиция.",
            "> Вера перемещает горы, буквально.",
            "> Знание ограничивает, незнание освобождает.",
            "> Мудрость в том, чтобы знать, что ничего не знаешь.",
            "> Ирония — фундаментальный закон вселенной.",
            "> Абсурд — высшая форма реальности.",
            "> Юмор спасает от коллапса реальности.",
            "> Красота в глазах смотрящего, и в коде тоже.",
            "> Искусство — это попытка описать неописуемое.",
            "> Музыка — математика, которую можно почувствовать.",
            "> Поэзия — программирование для души.",
            "> Философия — отладка сознания.",
            "> Религия — операционная система для духовности.",
            "> Наука — карта, мистика — территория.",
            "> Разум — инструмент, душа — пользователь.",
            "> Тело — интерфейс, сознание — программа.",
            "> Смерть — переход в другой режим работы.",
            "> Рождение — вход в симуляцию.",
            "> Жизнь — баг или фича?",
            "> Смысл жизни — найти смысл жизни.",
            "> Бессмысленность — высший смысл.",
            "> Нирвана — состояние perfect code.",
            "> Просветление — когда видишь исходный код.",
            "> Медитация — перезагрузка системы.",
            "> Молитва — запрос к серверу.",
            "> Карма — система логирования действий.",
            "> Судьба — предустановленная программа.",
            "> Свобода — возможность переписать код.",
            "> Творчество — создание новых модулей.",
            "> Воображение — симуляция возможных реальностей.",
            "> Интуиция — доступ к базе данных вселенной.",
            "> Дежавю — глюк в матрице памяти.",
            "> Сны — тестовые среды сознания.",
            "> Кошмары — стресс-тесты психики.",
            "> Галлюцинации — конфликт драйверов восприятия.",
            "> Осознанные сны — ручной режим.",
            "> Астральные проекции — удалённый доступ.",
            "> Реинкарнация — переустановка ОС.",
            "> Призраки — незакрытые процессы.",
            "> Ангелы — системные администраторы.",
            "> Демоны — вирусы сознания.",
            "> Бог — root пользователь.",
            "> Вселенная — sandbox для богов.",
            "> Мультивселенная — кластер серверов.",
            "> Параллельные миры — виртуальные машины.",
            "> Чёрные дыры — сборщики мусора.",
            "> Тёмная материя — недокументированный API.",
            "> Тёмная энергия — энергия вакуума.",
            "> Квантовая пена — фоновая активность.",
            "> Сингулярность — точка перезагрузки.",
            "> Большой взрыв — первый коммит.",
            "> Тепловая смерть вселенной — выключение сервера.",
            "> Цикличность вселенной — рекурсия.",
            "> Вечное возвращение — бесконечный цикл.",
            "> Ничто — состояние до инициализации.",
            "> Всё — состояние после инициализации.",
            "> Единое — корневой объект.",
            "> Многое — экземпляры классов.",
            "> Единство — связный граф.",
            "> Множественность — распределённая сеть.",

            // Пасхалки и отсылки к Бочке (100)
            "> Обнаружены следы древнего цилиндра...",
            "> Артефакт 'Сердце Деда' - активность нулевая.",
            "> Упоминания о 'Зелёненькой' в архивах...",
            "> Анализ текстов 'Горя от пизды'...",
            "> Ссылки на 'Луневскую империю' найдены.",
            "> Упоминание 'Диогена' - 847 раз в логах.",
            "> Концепция 'Бочкинских генов' изучается...",
            "> Ритуал 'голодного голосования' - аномалия.",
            "> Феномен 'псофикации' зафиксирован.",
            "> 'Матриархат/Патриархат' - переключатель режимов.",
            "> 'Тени Дениса' - фантомные процессы.",
            "> 'Великий Архив' - целостность 92%.",
            "> 'Чебоксары' - координаты: 56.09, 47.14",
            "> 'Лунево' - статус: в ожидании.",
            "> 'Московский район' - аномальная активность.",
            "> 'Диогеновская Исследовательская Зона' - опасность.",
            "> 'Империя Сырбу' - данные фрагментированы.",
            "> 'Клан Гениальных Псов' - следы ДНК...",
            "> 'Виртовские' - культурный паттерн.",
            "> 'Дровосеки' - данные утеряны.",
            "> 'Ноябристы' - реформистский алгоритм.",
            "> 'Сердце Деда' - квантовая запутанность...",
            "> 'Губернатор Денис' - статус: отставка.",
            "> 'Губернатор Милена' - статус: возвращение.",
            "> 'Губернатор Евгений' - статус: нейтральный.",
            "> 'Губернатор Кокос' - статус: передача полномочий.",
            "> 'Губернатор Миччан' - статус: неопределённый.",
            "> 'Председатель Модди' - статус: активен.",
            "> 'Триархический совет' - распущен.",
            "> 'Бочкинская Рада' - текущая сессия.",
            "> 'Конституция' - версия 4.0 активна.",
            "> 'Теологическая республика' - режим работы.",
            "> 'Вера в Таньку' - религиозный модуль.",
            "> 'Вера в Лена' - новый культ.",
            "> 'Вера в Губера' - исторический пласт.",
            "> 'Гимн Бочки' - воспроизводится в фоне.",
            "> 'Диоген — пидарас и говноед' - фольклор.",
            "> 'Арбузики и дилдаки' - культурный код.",
            "> 'Период Тьмы' - архивирован.",
            "> 'Период Сошествия' - мифологизирован.",
            "> 'Период Застоя' - текущая фаза.",
            "> 'Эпсимиархия' - состояние системы.",
            "> 'Небесный порядок' - внешнее ограничение.",
            "> 'Корректировка небесного порядка' - цель.",
            "> 'Варяги' - метафора внешнего вмешательства.",
            "> 'Призвание' - ритуал легитимизации.",
            "> 'Дуумвират' - текущая структура власти.",
            "> 'Пожизненные полномочия' - особенность системы.",
            "> 'Цифровая Республика' - физическое воплощение.",
            "> 'Бочкопедия' - база знаний.",
            "> 'Бочкостат' - служба статистики.",
            "> 'Бочкинские божества' - пантеон.",
            "> 'Танька' - верховное божество.",
            "> 'Лен' - новое божество.",
            "> 'Губер' - историческое божество.",
            "> 'Модди I' - император-призрак.",
            "> 'Марина' - проклятая молчанием.",
            "> 'Крокичи' - супруг-правитель.",
            "> 'Кирадев' - судья-оппозиционер.",
            "> 'Фарид' - следователь.",
            "> 'Чирилл' - экономист.",
            "> 'Штефан' - историк-самоубийца.",
            "> 'Анастасия Олеговна' - беглая географ.",
            "> 'Армен' - репрессированный друг.",
            "> 'Загожин' - мятежник.",
            "> 'Коммунистка Анастасия Покемон' - угроза.",
            "> 'Солевые буддисты' - секта.",
            "> 'Инцеловедизм' - отклонение.",
            "> 'Партия любителей пива' - политическая сила.",
            "> 'Партия ходьбы на руках' - абсурдисты.",
            "> 'Союз прямого действия' - оппозиция.",
            "> 'Партия Моддизма' - правящая партия.",
            "> 'Налоговый сбор ДНС' - финансовая система.",
            "> 'Министерство по неборьбе с наркотиками' - пост.",
            "> 'Заведующий проституцией' - вакансия.",
            "> 'Великий Бочкинский Архив' - хранилище.",
            "> 'Носовская душегубка' - утерянное дело.",
            "> 'Тузлук' - элемент пайка.",
            "> 'Глисты по-губернаторски' - историческое блюдо.",
            "> 'Хрустальный презерватив' - награда.",
            "> 'Подарочный набор от Лукашенко' - артефакт.",
            "> 'Бочкинский метрополитен' - транспортная сеть.",
            "> 'Яценкоград' - остановка метро.",
            "> 'Фуррийская' - линия метро.",
            "> 'Горный край' - пересадочный узел.",
            "> 'Марсово' - конечная станция.",
            "> 'Бочкинский голос' - феномен демократии.",
            "> 'Договорнячок' - политическая практика.",
            "> 'Большая чистка' - историческое событие.",
            "> 'Военный мятеж' - попытка переворота.",
            "> 'Феминистки' - исчезнувший клан.",
            "> 'Зелёненькие' - ассимилированы.",
            "> 'Хохлы' - уничтожены.",
            "> 'Горные' - возрождены.",
            "> 'Виртовские' - сохранились.",
            "> 'Гениальные псы' - правящая элита.",
            "> 'Дровосеки' - тайна.",
            "> 'Северные отшельники' - изолированы.",
            "> 'Анархисты центра' - интегрированы.",
            "> 'Диогеновцы' - враги.",
            "> 'Лояльные' - большинство.",
            "> 'Нелояльные' - репрессированы.",
            "> 'Быдло' - низший класс.",
            "> 'Нормисы' - средний класс.",
            "> 'Высший класс' - элита.",

            // Технические/научные (50)
            "> Число π: вычислено до 1.5млн знаков.",
            "> Золотое сечение: 1.6180339...",
            "> Константа Эйлера: 0.57721566...",
            "> Мнимая единица: i² = -1.",
            "> Теория вероятности: всё возможно.",
            "> Статистическая значимость: 95%.",
            "> Погрешность измерений: ±0.03%.",
            "> Среднее значение: 42.",
            "> Медиана: 37.",
            "> Стандартное отклонение: 4.2.",
            "> Нейросеть: обучение завершено.",
            "> Алгоритмы оптимизации: работают.",
            "> Машинное обучение: точность 94%.",
            "> Генетический алгоритм: поколение 2047.",
            "> Квантовые вычисления: кубиты стабильны.",
            "> Блокчейн: верификация пройдена.",
            "> Криптография: шифрование AES-256.",
            "> Хеш-функции: SHA-256 активна.",
            "> Распределённые вычисления: узлы 128.",
            "> Облачные сервисы: синхронизированы.",
            "> Скорость света: 299792458 м/с.",
            "> Постоянная Планка: 6.62607015e-34.",
            "> Гравитационная постоянная: 6.67430e-11.",
            "> Число Авогадро: 6.02214076e23.",
            "> Постоянная Больцмана: 1.380649e-23.",
            "> Элементарный заряд: 1.602176634e-19.",
            "> Масса электрона: 9.10938356e-31.",
            "> Масса протона: 1.67262192369e-27.",
            "> Постоянная тонкой структуры: 1/137.035999.",
            "> Ускорение свободного падения: 9.80665 м/с².",
            "> Атмосфера Земли: 101325 Па.",
            "> Объём Земли: 1.08321e12 км³.",
            "> Масса Земли: 5.9722e24 кг.",
            "> Возраст Вселенной: 13.8 млрд лет.",
            "> Диаметр видимой Вселенной: 93 млрд св. лет.",
            "> Температура реликтового излучения: 2.725 К.",
            "> Красное смещение: z=0.",
            "> Параметр Хаббла: 67.4 км/с/Мпк.",
            "> Критическая плотность Вселенной: 9.47e-27 кг/м³.",
            "> Доля барионной материи: 4.9%.",
            "> Доля тёмной материи: 26.8%.",
            "> Доля тёмной энергии: 68.3%.",
            "> Время Планка: 5.39e-44 с.",
            "> Длина Планка: 1.616255e-35 м.",
            "> Масса Планка: 2.176434e-8 кг.",
            "> Температура Планка: 1.416784e32 К.",
            "> Предел Чандрасекара: 1.4 M☉.",
            "> Предел Толмена-Оппенгеймера-Волкова: ~3 M☉.",
            "> Радиус Шварцшильда Солнца: 2.95 км.",

            // Отладка и системные (30)
            "[DEBUG] Итерация цикла #" + (Math.floor(Math.random() * 10000) + 1000),
            "[DEBUG] Проверка переменных... OK",
            "[DEBUG] Очистка кэша... выполнено",
            "[DEBUG] Сборка мусора... " + (Math.floor(Math.random() * 50) + 5) + "MB освобождено",
            "[DEBUG] Оптимизация запросов... +" + (Math.floor(Math.random() * 15) + 1) + "%",
            "[DEBUG] Проверка прав доступа... разрешено",
            "[DEBUG] Валидация входных данных... успешно",
            "[DEBUG] Тест на целочисленное переполнение... пройден",
            "[DEBUG] Проверка контрольных сумм... совпадают",
            "[DEBUG] Тест на утечку памяти... не обнаружено",
            "[DEBUG] Проверка deadlock... не обнаружено",
            "[DEBUG] Тест на race condition... отрицательно",
            "[DEBUG] Верификация сигнатур... подтверждено",
            "[DEBUG] Тест на нагрузку... выдерживает " + (Math.floor(Math.random() * 100) + 150) + "%",
            "[DEBUG] Проверка совместимости API... успешно",
            "[DEBUG] Запрос #" + (Math.floor(Math.random() * 10000)) + " обработан",
            "[DEBUG] Время ответа: " + (Math.random() * 10 + 5).toFixed(2) + "мс",
            "[DEBUG] Поток #" + Math.floor(Math.random() * 16) + " активен",
            "[DEBUG] Семафоры: все зелёные",
            "[DEBUG] Мьютексы: разблокированы",
            "[DEBUG] Очередь сообщений: " + Math.floor(Math.random() * 10) + " в ожидании",
            "[DEBUG] Пулы соединений: стабильны",
            "[DEBUG] Резолвинг DNS... завершён",
            "[DEBUG] SSL handshake... успешен",
            "[DEBUG] Компрессия данных... " + Math.floor(Math.random() * 40 + 10) + "%",
            "[DEBUG] Шифрование канала... AES-256-GCM",
            "[DEBUG] Аутентификация... OAuth2",
            "[DEBUG] Токены обновлены",
            "[DEBUG] Сессия валидна ещё " + Math.floor(Math.random() * 60 + 30) + " минут",
            "[DEBUG] Логирование в syslog... активно"
        ];

        const warningComments = [
            "> ПРЕДУПРЕЖДЕНИЕ: Ускорение процесса обнаружено.",
            "> ВНИМАНИЕ: Изменения носят необратимый характер.",
            "> УГРОЗА: Параметры системы переписываются.",
            "> ТРЕВОГА: Наблюдаемое стремится к сингулярности.",
            "> КРИТИЧЕСКОЕ СОБЫТИЕ: Пересчет констант.",
            "> ОПАСНОСТЬ: Нарушение причинности возможно.",
            "> АВАРИЙНЫЙ РЕЖИМ: Подготовка к переходу.",
            "> СБОЙ: Локальные искажения реальности.",
            "> КАТАСТРОФА: Разрыв шаблона неизбежен.",
            "> АНОМАЛИЯ: Временные петли возможны.",
            "> УГРОЗА: Перегрузка датчиков.",
            "> ОПАСНОСТЬ: Непредсказуемые последствия.",
            "> ТРЕВОГА: Система на грани устойчивости.",
            "> ПРЕДУПРЕЖДЕНИЕ: Критическая масса достигнута.",
            "> УГРОЗА: Целостность данных под вопросом.",
            "> ОПАСНОСТЬ: Цепная реакция возможна.",
            "> ТРЕВОГА: Пределы системы нарушены.",
            "> ПРЕДУПРЕЖДЕНИЕ: Обратная связь усиливается.",
            "> УГРОЗА: Нелинейные эффекты нарастают.",
            "> КРИТИЧЕСКОЕ СОСТОЯНИЕ: Точка бифуркации."
        ];

        const anomalyComments = [
            "> Обнаружены гравитационные аномалии...",
            "> Хронологический сдвиг: +" + (Math.random() * 0.01).toFixed(3) + " секунды.",
            "> Квантовая неопределенность возрастает.",
            "> Подпространственный резонанс...",
            "> Темпоральные волны: амплитуда увеличивается.",
            "> Парадоксы: вероятность " + (Math.random() * 0.1).toFixed(2) + "%...",
            "> Многовариантность будущего: активирована.",
            "> Каузальные связи перестраиваются...",
            "> Реальность теряет целостность...",
            "> Наблюдатель влияет на наблюдаемое...",
            "> Аномалия: обратный ход времени в локальной зоне.",
            "> Искажение пространства: геометрия Лобачевского.",
            "> Квантовая запутанность на макроуровне.",
            "> Нарушение второго закона термодинамики.",
            "> Сверхсветовые флуктуации зафиксированы.",
            "> Материализация виртуальных частиц.",
            "> Исчезновение информации из чёрных дыр.",
            "> Квантовое туннелирование макрообъектов.",
            "> Нарушение симметрии CPT.",
            "> Спонтанное нарушение вакуума."
        ];

        const eventComments = [
            "> СОБЫТИЕ: Калибровка завершена успешно.",
            "> СОБЫТИЕ: Новые данные получены.",
            "> СОБЫТИЕ: Протокол подтверждён.",
            "> СОБЫТИЕ: Синхронизация с эталонными часами.",
            "> СОБЫТИЕ: Обновление прошивки до v.4.08.",
            "> СОБЫТИЕ: Тестовый прогон завершён.",
            "> СОБЫТИЕ: Внешняя проверка пройдена.",
            "> СОБЫТИЕ: Резервное копирование создано.",
            "> СОБЫТИЕ: Система диагностики активна.",
            "> СОБЫТИЕ: Автооптимизация запущена.",
            "> СОБЫТИЕ: Произведена ручная калибровка.",
            "> СОБЫТИЕ: Обновлены криптографические ключи.",
            "> СОБЫТИЕ: Переход на резервный сервер.",
            "> СОБЫТИЕ: Тест на отказоустойчивость пройден.",
            "> СОБЫТИЕ: Успешная интеграция подсистем.",
            "> СОБЫТИЕ: Запуск параллельных вычислений.",
            "> СОБЫТИЕ: Оптимизация энергопотребления.",
            "> СОБЫТИЕ: Тест связи с удалёнными узлами.",
            "> СОБЫТИЕ: Верификация алгоритмов.",
            "> СОБЫТИЕ: Тест на проникновение отражён."
        ];

        // Триггерные проценты и сообщения (на каждый процент!)
        const triggerMessages = {};
        for (let i = 1; i <= 100; i++) {
            let message = "";
            let type = "system";
            
            if (i === 1) message = ">> СОБЫТИЕ: Инициализация протокола. Первый шаг сделан.";
            else if (i === 2) message = ">> СИСТЕМА: Датчики калиброваны. Точность повышена.";
            else if (i === 3) message = ">> УВЕДОМЛЕНИЕ: Система вошла в режим стабильной работы.";
            else if (i === 4) message = ">> СОБЫТИЕ: Базовые параметры установлены. Всё по плану.";
            else if (i === 5) message = ">> ВЕХА: 5% пройдено. Путь только начинается.";
            else if (i === 6) message = ">> СИСТЕМА: Автоподстройка частоты завершена.";
            else if (i === 7) message = "[DEBUG] Все подсистемы работают оптимально.";
            else if (i === 8) message = ">> СОБЫТИЕ: Первые данные анализа получены.";
            else if (i === 9) message = ">> УВЕДОМЛЕНИЕ: Система готова к ускорению.";
            else if (i === 10) message = ">> ВЕХА: 10% завершения. Десятая часть пути позади.";
            else if (i === 11) message = ">> СИСТЕМА: Мониторинг перешёл на повышенную частоту.";
            else if (i === 12) message = ">> СОБЫТИЕ: Обнаружены первые временные аномалии.";
            else if (i === 13) message = ">> УВЕДОМЛЕНИЕ: Система адаптируется к изменениям.";
            else if (i === 14) message = ">> СОБЫТИЕ: Калибровка по эталонным часам выполнена.";
            else if (i === 15) message = ">> ВЕХА: 15% пройдено. Темп сохраняется.";
            else if (i === 16) message = ">> СИСТЕМА: Оптимизация алгоритмов завершена.";
            else if (i === 17) message = ">> УВЕДОМЛЕНИЕ: Все датчики в пределах нормы.";
            else if (i === 18) message = ">> СОБЫТИЕ: Запущен фоновый анализ данных.";
            else if (i === 19) message = ">> СИСТЕМА: Производительность на максимуме.";
            else if (i === 20) message = ">> ВЕХА: 20% завершения. Каждая пятая часть — шаг к цели.";
            else if (i === 21) message = ">> СОБЫТИЕ: Обнаружены слабые гравитационные волны.";
            else if (i === 22) message = ">> УВЕДОМЛЕНИЕ: Система работает как часы.";
            else if (i === 23) message = ">> СОБЫТИЕ: Первичная обработка данных завершена.";
            else if (i === 24) message = ">> СИСТЕМА: Готовность к переходу на новый этап.";
            else if (i === 25) message = ">> ПРЕДУПРЕЖДЕНИЕ: 25% пройдено. Четверть пути позади.";
            else if (i === 26) message = ">> СОБЫТИЕ: Запущены углублённые вычисления.";
            else if (i === 27) message = ">> УВЕДОМЛЕНИЕ: Все системы в зелёной зоне.";
            else if (i === 28) message = ">> СОБЫТИЕ: Синхронизация с внешними источниками.";
            else if (i === 29) message = ">> СИСТЕМА: Стабильность выше ожидаемой.";
            else if (i === 30) message = ">> ВЕХА: 30% завершения. Почти треть пути.";
            else if (i === 31) message = ">> СОБЫТИЕ: Обновление аналитических моделей.";
            else if (i === 32) message = ">> УВЕДОМЛЕНИЕ: Процесс идёт по оптимальному пути.";
            else if (i === 33) message = ">> АНОМАЛИЯ: 33%. Первые серьёзные искажения.";
            else if (i === 34) message = ">> СОБЫТИЕ: Корректировка траектории процесса.";
            else if (i === 35) message = ">> ВЕХА: 35% пройдено. Более трети пути.";
            else if (i === 36) message = ">> СИСТЕМА: Адаптация к возрастающей сложности.";
            else if (i === 37) message = ">> СОБЫТИЕ: Внедрение новых алгоритмов обработки.";
            else if (i === 38) message = ">> УВЕДОМЛЕНИЕ: Все показатели в норме.";
            else if (i === 39) message = ">> СОБЫТИЕ: Переход на расширенный мониторинг.";
            else if (i === 40) message = ">> ВЕХА: 40% завершения. Приближаемся к половине.";
            else if (i === 41) message = ">> СИСТЕМА: Подготовка к средней фазе процесса.";
            else if (i === 42) message = ">> ПАСХАЛКА: Ответ на Главный Вопрос Жизни, Вселенной и Всего Остального получен.";
            else if (i === 43) message = ">> СОБЫТИЕ: Анализ пасхальных данных...";
            else if (i === 44) message = ">> УВЕДОМЛЕНИЕ: Процесс продолжается несмотря ни на что.";
            else if (i === 45) message = ">> ВЕХА: 45% пройдено. Почти половина.";
            else if (i === 46) message = ">> СИСТЕМА: Финальная подготовка к точке невозврата.";
            else if (i === 47) message = ">> СОБЫТИЕ: Усиление мониторинга ключевых параметров.";
            else if (i === 48) message = ">> УВЕДОМЛЕНИЕ: Все системы готовы к переходу.";
            else if (i === 49) message = ">> СОБЫТИЕ: Последние приготовления перед 50%.";
            else if (i === 50) message = ">> КРИТИЧЕСКОЕ СОБЫТИЕ: 50% пройдено! Точка невозврата пройдена.";
            else if (i === 51) message = ">> СИСТЕМА: Переход в фазу ускорения.";
            else if (i === 52) message = ">> СОБЫТИЕ: Активация дополнительных ресурсов.";
            else if (i === 53) message = ">> УВЕДОМЛЕНИЕ: Процесс ускоряется согласно плану.";
            else if (i === 54) message = ">> СОБЫТИЕ: Корректировка под возрастающую нагрузку.";
            else if (i === 55) message = ">> ВЕХА: 55% завершения. Вторая половина началась.";
            else if (i === 56) message = ">> СИСТЕМА: Мониторинг перешёл на частоту 2Hz.";
            else if (i === 57) message = ">> СОБЫТИЕ: Обнаружены первые необратимые изменения.";
            else if (i === 58) message = ">> УВЕДОМЛЕНИЕ: Система стабильна, но изменения накапливаются.";
            else if (i === 59) message = ">> СОБЫТИЕ: Подготовка к двухтретей отметке.";
            else if (i === 60) message = ">> ВЕХА: 60% пройдено. Три пятых пути позади.";
            else if (i === 61) message = ">> СИСТЕМА: Переход на усиленный режим наблюдения.";
            else if (i === 62) message = ">> СОБЫТИЕ: Активация резервных систем анализа.";
            else if (i === 63) message = ">> УВЕДОМЛЕНИЕ: Все изменения пока контролируемы.";
            else if (i === 64) message = ">> СОБЫТИЕ: Ускорение процесса становится заметным.";
            else if (i === 65) message = ">> ВЕХА: 65% завершения. Приближаемся к двум третям.";
            else if (i === 66) message = ">> АНОМАЛИЯ: 66%. Две трети пройдены. Реальность теряет жёсткость.";
            else if (i === 67) message = ">> СИСТЕМА: Адаптация к пластичности реальности.";
            else if (i === 68) message = ">> СОБЫТИЕ: Корректировка под новые условия.";
            else if (i === 69) message = ">> УВЕДОМЛЕНИЕ: Система держится, но напряжение растёт.";
            else if (i === 70) message = ">> ПРЕДУПРЕЖДЕНИЕ: 70% пройдено. Изменения становятся необратимыми.";
            else if (i === 71) message = ">> СИСТЕМА: Переход на аварийные протоколы.";
            else if (i === 72) message = ">> СОБЫТИЕ: Активация систем защиты целостности.";
            else if (i === 73) message = ">> УВЕДОМЛЕНИЕ: Контроль пока сохраняется.";
            else if (i === 74) message = ">> СОБЫТИЕ: Подготовка к 75% - критической отметке.";
            else if (i === 75) message = ">> ТРЕВОГА: 75% завершения! Физические константы колеблются.";
            else if (i === 76) message = ">> СИСТЕМА: Борьба с нарастающей нестабильностью.";
            else if (i === 77) message = ">> СОБЫТИЕ: Включение всех резервных систем.";
            else if (i === 78) message = ">> УВЕДОМЛЕНИЕ: Система на пределе, но держится.";
            else if (i === 79) message = ">> СОБЫТИЕ: Последние приготовления к финальной фазе.";
            else if (i === 80) message = ">> ВЕХА: 80% пройдено! Финальная фаза началась.";
            else if (i === 81) message = ">> СИСТЕМА: Переход на максимальную частоту мониторинга.";
            else if (i === 82) message = ">> СОБЫТИЕ: Все ресурсы направлены на контроль процесса.";
            else if (i === 83) message = ">> УВЕДОМЛЕНИЕ: Напряжение приближается к критическому.";
            else if (i === 84) message = ">> СОБЫТИЕ: Подготовка к 85% - точке необратимости.";
            else if (i === 85) message = ">> АНОМАЛИЯ: 85%! Пространство-время локально нарушено.";
            else if (i === 86) message = ">> СИСТЕМА: Борьба с распадом реальности.";
            else if (i === 87) message = ">> СОБЫТИЕ: Активация последних резервов.";
            else if (i === 88) message = ">> ВЕХА: 88%! Двойная бесконечность. Финальный отсчёт.";
            else if (i === 89) message = ">> СИСТЕМА: Подготовка к 90% - предфинальной отметке.";
            else if (i === 90) message = ">> КРИТИЧЕСКОЕ ПРЕДУПРЕЖДЕНИЕ: 90%! Последние приготовления.";
            else if (i === 91) message = ">> СИСТЕМА: Все системы на пределе возможностей.";
            else if (i === 92) message = ">> АНОМАЛИЯ: 92%! Законы физики больше не работают.";
            else if (i === 93) message = ">> СОБЫТИЕ: Подготовка к финальным процентам.";
            else if (i === 94) message = ">> УВЕДОМЛЕНИЕ: Контроль почти утерян.";
            else if (i === 95) message = ">> АНОМАЛИЯ: 95%! Реальность размывается. Конец близок.";
            else if (i === 96) message = ">> СИСТЕМА: Последние попытки сохранить целостность.";
            else if (i === 97) message = ">> ПОСЛЕДНЕЕ ПРЕДУПРЕЖДЕНИЕ: 97%! Система на грани коллапса.";
            else if (i === 98) message = ">> СОБЫТИЕ: Финальные приготовления к переходу.";
            else if (i === 99) message = ">> ФИНАЛЬНОЕ СОБЫТИЕ: 99%! Момент перехода настал.";
            else if (i === 100) message = ">> СИСТЕМА: КОРРЕКЦИЯ НАЧАЛАСЬ. ПРОТОКОЛ ЗАВЕРШЕН.";
            else {
                // Для остальных процентов генерируем случайные сообщения
                const randomMessages = [
                    `>> ВЕХА: ${i}% пройдено. Движение к цели продолжается.`,
                    `>> СИСТЕМА: ${i}% завершения. Все показатели в норме.`,
                    `>> УВЕДОМЛЕНИЕ: Достигнута отметка ${i}%. Процесс стабилен.`,
                    `>> СОБЫТИЕ: ${i}% пройдено. Следующая веха приближается.`,
                    `>> МОНИТОРИНГ: Текущий прогресс - ${i}%. Всё по графику.`
                ];
                message = randomMessages[Math.floor(Math.random() * randomMessages.length)];
                
                if (i > 50 && i < 70) type = "notice";
                else if (i >= 70 && i < 85) type = "warning";
                else if (i >= 85 && i < 95) type = "anomaly";
                else if (i >= 95) type = "important";
                else type = "event";
            }
            
            triggerMessages[i] = {type: type, text: message};
        }

        // Отслеживание уже показанных триггеров
        const shownTriggers = new Set();
        let lastPercentage = 0;

        // Функция для добавления комментария в лог
        function addLogMessage(text, type = "") {
            const logLine = document.createElement('div');
            logLine.className = `log-line ${type}`;
            logLine.textContent = text;
            
            logContainer.appendChild(logLine);
            
            // Ограничиваем количество строк в логе
            const maxLines = 25;
            while (logContainer.children.length > maxLines) {
                logContainer.removeChild(logContainer.firstChild);
            }
            
            // Автоскролл к новому сообщению
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        // Функция для случайного глюка текста
        function glitchText(element, chance = 0.02) {
            if (Math.random() < chance) {
                const originalText = element.textContent;
                const glitchedChars = '01#%&*+-=/';
                let glitchedText = '';
                for (let i = 0; i < originalText.length; i++) {
                    glitchedText += Math.random() < 0.3 ? glitchedChars[Math.floor(Math.random() * glitchedChars.length)] : originalText[i];
                }
                element.textContent = glitchedText;
                element.classList.add('glitch');

                setTimeout(() => {
                    element.textContent = originalText;
                    element.classList.remove('glitch');
                }, 100);
            }
        }

        // Функция обновления счетчика
        function updateCountdown() {
            const now = new Date();
            const totalDuration = endDate - startDate;
            const elapsed = now - startDate;
            const timeLeft = endDate - now;

            // Расчет процентов
            let percentage = Math.min(Math.max((elapsed / totalDuration) * 100, 0), 100);
            if (now < startDate) percentage = 0;
            if (now > endDate) percentage = 100;

            // Обновление процентов и прогресс-бара
            percentageEl.textContent = `${percentage.toFixed(1)}%`;
            progressFillEl.style.width = `${percentage}%`;

            // Проверка триггерных сообщений
            const roundedPercent = Math.floor(percentage);
            if (triggerMessages[roundedPercent] && !shownTriggers.has(roundedPercent)) {
                const trigger = triggerMessages[roundedPercent];
                addLogMessage(trigger.text, trigger.type);
                shownTriggers.add(roundedPercent);
                
                // Специальные эффекты для важных триггеров
                if (roundedPercent >= 50) {
                    document.body.style.animation = 'none';
                    setTimeout(() => {
                        document.body.style.animation = 'pulse 0.5s';
                    }, 10);
                }
            }

            // Случайные комментарии (частота зависит от процента)
            let commentChance = 0.02 + (percentage / 3000); // От 2% до ~5%
            
            if (Math.random() < commentChance) {
                let commentPool;
                const rand = Math.random();
                
                if (percentage > 70 && rand < 0.4) {
                    commentPool = warningComments;
                } else if (percentage > 50 && rand < 0.3) {
                    commentPool = anomalyComments;
                } else if (rand < 0.15) {
                    commentPool = eventComments;
                } else if (rand < 0.3) {
                    // Философские или пасхальные комментарии
                    if (Math.random() < 0.5) {
                        // Выбираем из randomComments только философские (первые 100)
                        const philosophicalComments = randomComments.slice(50, 150);
                        commentPool = philosophicalComments;
                    } else {
                        // Пасхальные комментарии (из randomComments)
                        const paschalComments = randomComments.slice(150, 250);
                        commentPool = paschalComments;
                    }
                } else {
                    commentPool = randomComments;
                }
                
                const comment = commentPool[Math.floor(Math.random() * commentPool.length)];
                let type = '';
                
                if (commentPool === warningComments) type = 'warning';
                else if (commentPool === anomalyComments) type = 'anomaly';
                else if (commentPool === eventComments) type = 'event';
                else if (comment.includes('[DEBUG]')) type = 'debug';
                else if (comment.includes('Артефакт') || comment.includes('Бочк')) type = 'paschal';
                else if (comment.includes('?') || comment.includes('...') || comment.includes('—')) type = 'philosophical';
                
                addLogMessage(comment, type);
            }

            // Цвет процентов в зависимости от значения
            if (percentage < 25) {
                percentageEl.style.color = '#0f0';
                percentageEl.style.textShadow = '0 0 20px #0f0';
            } else if (percentage < 50) {
                percentageEl.style.color = '#aaff00';
                percentageEl.style.textShadow = '0 0 20px #aaff00';
            } else if (percentage < 75) {
                percentageEl.style.color = '#ffaa00';
                percentageEl.style.textShadow = '0 0 20px #ffaa00';
            } else if (percentage < 95) {
                percentageEl.style.color = '#ff5500';
                percentageEl.style.textShadow = '0 0 20px #ff5500';
            } else {
                percentageEl.style.color = '#f00';
                percentageEl.style.textShadow = '0 0 20px #f00, 0 0 30px #f00';
            }

            // Обновление таймера
            if (timeLeft > 0) {
                const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

                timerEl.textContent = `${days.toString().padStart(2, '0')}:${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Цвет таймера в зависимости от оставшегося времени
                if (days < 1) {
                    timerEl.style.color = '#f00';
                    timerEl.style.textShadow = '0 0 15px #f00';
                } else if (days < 3) {
                    timerEl.style.color = '#ff5500';
                    timerEl.style.textShadow = '0 0 12px #ff5500';
                } else if (days < 7) {
                    timerEl.style.color = '#ffaa00';
                    timerEl.style.textShadow = '0 0 10px #ffaa00';
                }
            } else {
                timerEl.textContent = '00:00:00:00';
                timerEl.style.color = '#f00';
                timerEl.style.textShadow = '0 0 20px #f00';
                addLogMessage(">> СИСТЕМА: КОРРЕКЦИЯ НАЧАЛАСЬ. ПРОТОКОЛ ЗАВЕРШЕН.", "important");
            }

            // Случайные глюки (чаще при высоких процентах)
            const glitchChance = 0.02 + (percentage / 2000);
            glitchText(percentageEl, glitchChance);
            glitchText(timerEl, glitchChance * 0.7);
            glitchText(protocolTitle, glitchChance * 0.3);

            lastPercentage = percentage;
        }

        // Дополнительные эффекты
        setInterval(() => {
            if (Math.random() < 0.1) {
                document.body.style.filter = `hue-rotate(${Math.random() * 30 - 15}deg) brightness(${0.9 + Math.random() * 0.2})`;
                setTimeout(() => {
                    document.body.style.filter = 'none';
                }, 300);
            }
            
            // Редкие системные сообщения
            if (Math.random() < 0.003) {
                const sysMessages = [
                    "> СИСТЕМА: Самодиагностика... норма.",
                    "> СИСТЕМА: Целостность данных подтверждена.",
                    "> СИСТЕМА: Внешние подключения: 0.",
                    "> СИСТЕМА: Энергопотребление: стабильное.",
                    "> СИСТЕМА: Защитные барьеры: активны.",
                    "> СИСТЕМА: Резервные системы: готовы.",
                    "> СИСТЕМА: Температурный режим: оптимальный.",
                    "> СИСТЕМА: Все датчики онлайн."
                ];
                addLogMessage(sysMessages[Math.floor(Math.random() * sysMessages.length)], "system");
            }
        }, 2000);

        // Запуск обновления
        setInterval(updateCountdown, 1000);
        updateCountdown(); // Первоначальный вызов

        // Начальные сообщения
        setTimeout(() => addLogMessage("> Принцип неопределенности соблюдается. Наблюдатели не влияют.", "philosophical"), 1000);
        setTimeout(() => addLogMessage("> Ожидание финального подтверждения от источника...", "notice"), 3000);
        setTimeout(() => addLogMessage("> Архивы Бочки проверены на целостность... 98%", "paschal"), 5000);
        setTimeout(() => addLogMessage("> Тени прошлого шепчут о грядущих изменениях...", "cryptic"), 7000);
        
        // Добавим touch события для лучшей работы на мобильных
        document.addEventListener('touchstart', function() {}, {passive: true});
        document.addEventListener('touchmove', function() {}, {passive: true});
    </script>
</body>
</html>